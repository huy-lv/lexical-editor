"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const i=require("./index-Do5JgmE8.cjs"),Re=require("./LexicalAutoFocusPlugin.prod-BI6i9Xcp.cjs"),be=require("./LexicalCollaborationContext.prod-D-ElPwCy.cjs"),Ne=require("./LexicalCollaborationPlugin.prod-CzslECGu.cjs"),U=require("@lexical/hashtag"),V=require("@lexical/utils"),s=require("react"),Te=require("./LexicalNestedComposer.prod-XCdXeyO-.cjs"),d=require("lexical"),ve=require("react-dom"),je=require("@lexical/html"),ke=require("@lexical/link"),Me=require("@lexical/mark"),Oe=require("@lexical/table"),we=require("./ImageResizer-2zx9i5hR.cjs");function fe(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const Ae=fe(s),$e=fe(ve);function ge(e,t,n){const[o]=i.o();s.useEffect(()=>V.mergeRegister(...i.x(o,e,t,n)),[n,o,e,t])}const Le=new RegExp(function(){const{alpha:e,alphanumeric:t,hashChars:n}=function(){const r=String.fromCharCode,m="A-Za-z┬к┬╡┬║├А-├Ц├Ш-├╢├╕-╔Б╔Р-╦Б╦Ж-╦С╦а-╦д╦о═║╬Ж╬И-╬К╬М╬О-╬б╬г-╧О╧Р-╧╡╧╖-╥Б╥К-╙О╙Р-╙╣╘А-╘П╘▒-╒Ц╒Щ╒б-╓З╫Р-╫к╫░-╫▓╪б-╪║┘А-┘К┘о-┘п┘▒-█У█Х█е-█ж█о-█п█║-█╝█┐▄Р▄Т-▄п▌Н-▌н▐А-▐е▐▒рдД-рд╣рд╜реРреШ-ребре╜ржЕ-ржМржП-ржРржУ-ржиржк-рж░рж▓рж╢-рж╣рж╜рзОрзЬ-рзЭрзЯ-рзбрз░-рз▒риЕ-риКриП-риРриУ-риирик-ри░ри▓-ри│ри╡-ри╢ри╕-ри╣рйЩ-рйЬрйЮрй▓-рй┤ркЕ-ркНркП-ркСркУ-ркиркк-рк░рк▓-рк│рк╡-рк╣рк╜рлРрла-рлбрмЕ-рмМрмП-рмРрмУ-рмирмк-рм░рм▓-рм│рм╡-рм╣рм╜рнЬ-рнЭрнЯ-рнбрн▒роГроЕ-роКроО-роРроТ-роХроЩ-роЪроЬроЮ-роЯрог-родрои-рокроо-ро╣р░Е-р░Мр░О-р░Рр░Т-р░ир░к-р░│р░╡-р░╣р▒а-р▒бр▓Е-р▓Мр▓О-р▓Рр▓Т-р▓ир▓к-р▓│р▓╡-р▓╣р▓╜р│Юр│а-р│бр┤Е-р┤Мр┤О-р┤Рр┤Т-р┤ир┤к-р┤╣р╡а-р╡бр╢Е-р╢Цр╢Ъ-р╢▒р╢│-р╢╗р╢╜р╖А-р╖Жр╕Б-р╕░р╕▓-р╕│р╣А-р╣Жр║Б-р║Вр║Др║З-р║Ир║Кр║Нр║Ф-р║Чр║Щ-р║Яр║б-р║гр║ер║зр║к-р║лр║н-р║░р║▓-р║│р║╜р╗А-р╗Др╗Жр╗Ь-р╗Эр╝Ар╜А-р╜Зр╜Й-р╜кр╛И-р╛ЛсАА-сАбсАг-сАзсАй-сАксБР-сБХсВа-сГЕсГР-сГ║сГ╝сДА-сЕЩсЕЯ-сЖвсЖи-сЗ╣сИА-сЙИсЙК-сЙНсЙР-сЙЦсЙШсЙЪ-сЙЭсЙа-сКИсКК-сКНсКР-сК░сК▓-сК╡сК╕-сК╛сЛАсЛВ-сЛЕсЛИ-сЛЦсЛШ-сМРсМТ-сМХсМШ-сНЪсОА-сОПсОа-сП┤сРБ-сЩмсЩп-сЩ╢сЪБ-сЪЪсЪа-сЫксЬА-сЬМсЬО-сЬСсЬа-сЬ▒сЭА-сЭСсЭа-сЭмсЭо-сЭ░сЮА-сЮ│сЯЧсЯЬсаа-сб╖свА-свисдА-сдЬсеР-сенсе░-се┤сжА-сжйсзБ-сзЗсиА-сиЦс┤А-с╢┐с╕А-с║Ыс║а-с╗╣с╝А-с╝Хс╝Ш-с╝Эс╝а-с╜Ес╜И-с╜Нс╜Р-с╜Чс╜Щс╜Ыс╜Эс╜Я-с╜╜с╛А-с╛┤с╛╢-с╛╝с╛╛с┐В-с┐Дс┐Ж-с┐Мс┐Р-с┐Ус┐Ц-с┐Ыс┐а-с┐мс┐▓-с┐┤с┐╢-с┐╝тБ▒тБ┐тВР-тВФтДВтДЗтДК-тДУтДХтДЩ-тДЭтДдтДжтДитДк-тДнтДп-тД▒тД│-тД╣тД╝-тД┐тЕЕ-тЕЙт░А-т░от░░-т▒Ют▓А-т│дт┤А-т┤ет┤░-т╡ет╡пт╢А-т╢Цт╢а-т╢жт╢и-т╢от╢░-т╢╢т╢╕-т╢╛т╖А-т╖Жт╖И-т╖От╖Р-т╖Цт╖Ш-т╖ЮуАЕ-уАЖуА▒-уА╡уА╗-уА╝уББ-уВЦуВЭ-уВЯуВб-уГ║уГ╝-уГ┐уДЕ-уДмуД▒-уЖОуЖа-уЖ╖уЗ░-уЗ┐уРА-ф╢╡ф╕А-щ╛╗ъАА-ъТМъаА-ъаБъаГ-ъаЕъаЗ-ъаКъаМ-ъавъ░А-эЮгядА-яиняи░-яйкяй░-ялЩямА-ямЖямУ-ямЧямЭямЯ-ямиямк-ям╢ям╕-ям╝ям╛янА-янБянГ-янДянЖ-яо▒япУ-я┤╜я╡Р-я╢Пя╢Т-я╖Зя╖░-я╖╗я╣░-я╣┤я╣╢-я╗╝я╝б-я╝║я╜Б-я╜Ъя╜ж-я╛╛я┐В-я┐Зя┐К-я┐Пя┐Т-я┐Чя┐Ъ-я┐Ь├А-├Ц├Ш-├╢├╕-├┐─А-╔П╔У-╔Ф╔Ц-╔Ч╔Щ╔Ы╔г╔и╔п╔▓╩Й╩Л╩╗╠А-═пс╕А-с╗┐╨А-╙┐╘А-╘зт╖а-т╖┐ъЩА-ъЪЯ╓С-╓┐╫Б-╫В╫Д-╫Е╫З╫Р-╫к╫░-╫┤ямТ-ямиямк-ям╢ям╕-ям╝ям╛янА-янБянГ-янДянЖ-янП╪Р-╪Ъ╪а-┘Я┘о-█У█Х-█Ь█Ю-█и█к-█п█║-█╝█┐▌Р-▌┐рварвв-рвмргд-рг╛янР-яо▒япУ-я┤╜я╡Р-я╢Пя╢Т-я╖Зя╖░-я╖╗я╣░-я╣┤я╣╢-я╗╝тАМ-тАМр╕Б-р╕║р╣А-р╣ОсДА-сЗ┐уД░-уЖЕъеа-ъе┐ъ░А-эЮпэЮ░-эЯ┐я╛б-я┐ЬуВб-уГ║уГ╝-уГ╛я╜ж-я╛Яя╝Р-я╝Щя╝б-я╝║я╜Б-я╜ЪуББ-уВЦуВЩ-уВЮуРА-ф╢┐ф╕А-щ┐┐"+r(173824)+"-"+r(177983)+r(177984)+"-"+r(178207)+r(194560)+"-"+r(195103)+"уАГуАЕуА╗";return{alpha:m,alphanumeric:m+"╠А-═п╥Г-╥Ж╓С-╓╣╓╗-╓╜╓┐╫Б-╫В╫Д-╫Е╫З╪Р-╪Х┘Л-┘Ю┘░█Ц-█Ь█Я-█д█з-█и█к-█н▄С▄░-▌К▐ж-▐░рдБ-рдГрд╝рд╛-реНреС-реФрев-регржБ-ржГрж╝рж╛-рзДрзЗ-рзИрзЛ-рзНрзЧрзв-рзгриБ-риГри╝ри╛-рйВрйЗ-рйИрйЛ-рйНрй░-рй▒ркБ-ркГрк╝рк╛-рлЕрлЗ-рлЙрлЛ-рлНрлв-рлгрмБ-рмГрм╝рм╛-рнГрнЗ-рнИрнЛ-рнНрнЦ-рнЧроВро╛-рпВрпЖ-рпИрпК-рпНрпЧр░Б-р░Гр░╛-р▒Др▒Ж-р▒Ир▒К-р▒Нр▒Х-р▒Цр▓В-р▓Гр▓╝р▓╛-р│Др│Ж-р│Ир│К-р│Нр│Х-р│Цр┤В-р┤Гр┤╛-р╡Гр╡Ж-р╡Ир╡К-р╡Нр╡Чр╢В-р╢Гр╖Кр╖П-р╖Фр╖Цр╖Ш-р╖Яр╖▓-р╖│р╕▒р╕┤-р╕║р╣З-р╣Ор║▒р║┤-р║╣р║╗-р║╝р╗И-р╗Нр╝Ш-р╝Щр╝╡р╝╖р╝╣р╝╛-р╝┐р╜▒-р╛Др╛Ж-р╛Зр╛Р-р╛Чр╛Щ-р╛╝р┐ЖсАм-сА▓сА╢-сА╣сБЦ-сБЩсНЯсЬТ-сЬФсЬ▓-сЬ┤сЭТ-сЭУсЭ▓-сЭ│сЮ╢-сЯУсЯЭсаЛ-саНсвйсда-сдлсд░-сд╗сж░-сзАсзИ-сзЙсиЧ-сиЫс╖А-с╖ГтГР-тГЬтГбтГе-тГлуАк-уАпуВЩ-уВЪъаВъаЖъаЛъаг-ъазямЮя╕А-я╕Пя╕а-я╕г0-9┘а-┘й█░-█╣реж-репрзж-рзпрйж-рйпрлж-рлпрнж-рнпрпж-рппр▒ж-р▒пр│ж-р│пр╡ж-р╡пр╣Р-р╣Щр╗Р-р╗Щр╝а-р╝йсБА-сБЙсЯа-сЯйсаР-саЩсеЖ-сеПсзР-сзЩя╝Р-я╝Щ_",hashChars:"#\\uFF03"}}(),o="["+t+"]";return"("+("^|$|[^&/"+t+"]")+")("+("["+n+"]")+")("+o+"*"+("["+e+"]")+o+"*)"}(),"i");function De(){const[e]=i.o();s.useEffect(()=>{if(!e.hasNodes([U.HashtagNode]))throw new Error("HashtagPlugin: HashtagNode not registered on editor")},[e]);const t=s.useCallback(o=>U.$createHashtagNode(o.getTextContent()),[]),n=s.useCallback(o=>{const r=Le.exec(o);if(r===null)return null;const m=r[3].length+1,c=r.index+r[1].length;return{end:c+m,start:c}},[]);return ge(n,U.HashtagNode,t),null}const _e="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22%203H2v18h20v-2h-2v-2h2v-2h-2v-2h2v-2h-2V9h2V7h-2V5h2V3zm-2%204v2h-2v2h2v2h-2v2h2v2h-2v2H4V5h14v2h2zm-6%202h-2v2h-2v2H8v2H6v2h2v-2h2v-2h2v-2h2v2h2v-2h-2V9zM6%207h2v2H6V7z'%20fill='%23000000'/%3e%3c/svg%3e",re=new Map([[":)",["emoji happysmile","ЁЯЩВ"]],[":D",["emoji veryhappysmile","ЁЯША"]],[":(",["emoji unhappysmile","ЁЯЩБ"]],["<3",["emoji heart","тЭд"]]]);function Ie(e){const t=e.getTextContent();for(let n=0;n<t.length;n++){const o=re.get(t[n])||re.get(t.slice(n,n+2));if(o!==void 0){const[r,m]=o;let c;n===0?[c]=e.splitText(n+2):[,c]=e.splitText(n,n+2);const x=i.$createEmojiNode(r,m);return c.replace(x),x}}return null}function Pe(e){let t=e;for(;t!==null;){if(!t.isSimpleText())return;t=Ie(t)}}function Be(e){s.useEffect(()=>{if(!e.hasNodes([i.EmojiNode]))throw new Error("EmojisPlugin: EmojiNode not registered on editor");return e.registerNodeTransform(d.TextNode,Pe)},[e])}function Ke(){const[e]=i.o();return Be(e),null}const He=/(^|$|[^A-Za-z┬к┬╡┬║├А-├Ц├Ш-├╢├╕-╦Б╦Ж-╦С╦а-╦д╦м╦о═░-═┤═╢═╖═║-═╜╬Ж╬И-╬К╬М╬О-╬б╬г-╧╡╧╖-╥Б╥К-╘з╘▒-╒Ц╒Щ╒б-╓З╫Р-╫к╫░-╫▓╪а-┘К┘о┘п┘▒-█У█Х█е█ж█о█п█║-█╝█┐▄Р▄Т-▄п▌Н-▐е▐▒▀К-▀к▀┤▀╡▀║раА-раХраЪрадраирбА-рбШрварвв-рвмрдД-рд╣рд╜реРреШ-ребре▒-ре╖ре╣-ре┐ржЕ-ржМржПржРржУ-ржиржк-рж░рж▓рж╢-рж╣рж╜рзОрзЬрзЭрзЯ-рзбрз░рз▒риЕ-риКриПриРриУ-риирик-ри░ри▓ри│ри╡ри╢ри╕ри╣рйЩ-рйЬрйЮрй▓-рй┤ркЕ-ркНркП-ркСркУ-ркиркк-рк░рк▓рк│рк╡-рк╣рк╜рлРрларлбрмЕ-рмМрмПрмРрмУ-рмирмк-рм░рм▓рм│рм╡-рм╣рм╜рнЬрнЭрнЯ-рнбрн▒роГроЕ-роКроО-роРроТ-роХроЩроЪроЬроЮроЯрогродрои-рокроо-ро╣рпРр░Е-р░Мр░О-р░Рр░Т-р░ир░к-р░│р░╡-р░╣р░╜р▒Шр▒Щр▒ар▒бр▓Е-р▓Мр▓О-р▓Рр▓Т-р▓ир▓к-р▓│р▓╡-р▓╣р▓╜р│Юр│ар│бр│▒р│▓р┤Е-р┤Мр┤О-р┤Рр┤Т-р┤║р┤╜р╡Ор╡ар╡бр╡║-р╡┐р╢Е-р╢Цр╢Ъ-р╢▒р╢│-р╢╗р╢╜р╖А-р╖Жр╕Б-р╕░р╕▓р╕│р╣А-р╣Жр║Бр║Вр║Др║Зр║Ир║Кр║Нр║Ф-р║Чр║Щ-р║Яр║б-р║гр║ер║зр║кр║лр║н-р║░р║▓р║│р║╜р╗А-р╗Др╗Жр╗Ь-р╗Яр╝Ар╜А-р╜Зр╜Й-р╜мр╛И-р╛МсАА-сАксА┐сБР-сБХсБЪ-сБЭсБбсБесБжсБо-сБ░сБ╡-сВБсВОсВа-сГЕсГЗсГНсГР-сГ║сГ╝-сЙИсЙК-сЙНсЙР-сЙЦсЙШсЙЪ-сЙЭсЙа-сКИсКК-сКНсКР-сК░сК▓-сК╡сК╕-сК╛сЛАсЛВ-сЛЕсЛИ-сЛЦсЛШ-сМРсМТ-сМХсМШ-сНЪсОА-сОПсОа-сП┤сРБ-сЩмсЩп-сЩ┐сЪБ-сЪЪсЪа-сЫксЬА-сЬМсЬО-сЬСсЬа-сЬ▒сЭА-сЭСсЭа-сЭмсЭо-сЭ░сЮА-сЮ│сЯЧсЯЬсаа-сб╖свА-свисвксв░-сг╡сдА-сдЬсеР-сенсе░-се┤сжА-сжлсзБ-сзЗсиА-сиЦсиа-сйФскзсмЕ-см│снЕ-снЛсоГ-соасоосопсо║-спес░А-с░гс▒Н-с▒Пс▒Ъ-с▒╜с│й-с│мс│о-с│▒с│╡с│╢с┤А-с╢┐с╕А-с╝Хс╝Ш-с╝Эс╝а-с╜Ес╜И-с╜Нс╜Р-с╜Чс╜Щс╜Ыс╜Эс╜Я-с╜╜с╛А-с╛┤с╛╢-с╛╝с╛╛с┐В-с┐Дс┐Ж-с┐Мс┐Р-с┐Ус┐Ц-с┐Ыс┐а-с┐мс┐▓-с┐┤с┐╢-с┐╝тБ▒тБ┐тВР-тВЬтДВтДЗтДК-тДУтДХтДЩ-тДЭтДдтДжтДитДк-тДнтДп-тД╣тД╝-тД┐тЕЕ-тЕЙтЕОтЖГтЖДт░А-т░от░░-т▒Ют▒а-т│дт│л-т│от│▓т││т┤А-т┤ет┤зт┤нт┤░-т╡зт╡пт╢А-т╢Цт╢а-т╢жт╢и-т╢от╢░-т╢╢т╢╕-т╢╛т╖А-т╖Жт╖И-т╖От╖Р-т╖Цт╖Ш-т╖Ют╕пуАЕуАЖуА▒-уА╡уА╗уА╝уББ-уВЦуВЭ-уВЯуВб-уГ║уГ╝-уГ┐уДЕ-уДнуД▒-уЖОуЖа-уЖ║уЗ░-уЗ┐уРА-ф╢╡ф╕А-щ┐МъАА-ъТМъУР-ъУ╜ъФА-ъШМъШР-ъШЯъШкъШлъЩА-ъЩоъЩ┐-ъЪЧъЪа-ъЫеъЬЧ-ъЬЯъЬв-ъЮИъЮЛ-ъЮОъЮР-ъЮУъЮа-ъЮкъЯ╕-ъаБъаГ-ъаЕъаЗ-ъаКъаМ-ъавъбА-ъб│ъвВ-ъв│ъг▓-ъг╖ъг╗ъдК-ъдеъд░-ъеЖъеа-ъе╝ъжД-ъж▓ъзПъиА-ъииъйА-ъйВъйД-ъйЛъйа-ъй╢ъй║ъкА-ъкпък▒ък╡ък╢ък╣-ък╜ълАълВълЫ-ълЭъла-ълкъл▓-ъл┤ъмБ-ъмЖъмЙ-ъмОъмС-ъмЦъма-ъмжъми-ъмоъпА-ъпвъ░А-эЮгэЮ░-эЯЖэЯЛ-эЯ╗ядА-яйняй░-ялЩямА-ямЖямУ-ямЧямЭямЯ-ямиямк-ям╢ям╕-ям╝ям╛янАянБянГянДянЖ-яо▒япУ-я┤╜я╡Р-я╢Пя╢Т-я╖Зя╖░-я╖╗я╣░-я╣┤я╣╢-я╗╝я╝б-я╝║я╜Б-я╜Ъя╜ж-я╛╛я┐В-я┐Зя┐К-я┐Пя┐Т-я┐Чя┐Ъ-я┐Ь])(congrats|congratulations|gratuluju|gratuluji|gratulujeme|blahop┼Щeju|blahop┼Щeji|blahop┼Щejeme|Til lykke|Tillykke|Gl├╝ckwunsch|Gratuliere|felicitaciones|enhorabuena|paljon onnea|onnittelut|F├йlicitations|gratula|gratul├бlok|gratul├бlunk|congratulazioni|complimenti|уБКуВБуБзуБиуБЖ|уБКуВБуБзуБиуБЖуБФуБЦуБДуБ╛уБЩ|ь╢ХэХШэХ┤|ь╢ХэХШэХ┤ьЪФ|gratulerer|Gefeliciteerd|gratulacje|Parab├йns|parab├йns|felicita├з├╡es|felicit─Гri|╨╝╨╛╨╕ ╨┐╨╛╨╖╨┤╤А╨░╨▓╨╗╨╡╨╜╨╕╤П|╨┐╨╛╨╖╨┤╤А╨░╨▓╨╗╤П╨╡╨╝|╨┐╨╛╨╖╨┤╤А╨░╨▓╨╗╤П╤О|gratulujem|blaho┼╛el├бm|р╕вр╕┤р╕Щр╕Фр╕╡р╕Фр╣Йр╕зр╕в|р╕Вр╕нр╣Бр╕кр╕Фр╕Зр╕Др╕зр╕▓р╕бр╕вр╕┤р╕Щр╕Фр╕╡|tebrikler|tebrik ederim|цБнхЦЬ|чеЭш┤║ф╜а|цБнхЦЬф╜а|цБнхЦЬ|цБнхЦЬ|baie geluk|veels geluk|ржЕржнрж┐ржиржирзНржжржи|─Мestitam|─Мestitke|─Мestitamo|╬г╧Е╬│╧З╬▒╧Б╬╖╧Д╬о╧Б╬╣╬▒|╬Ь╧А╧Б╬м╬▓╬┐|ркЕркнрк┐ркиркВркжрки|badhai|рдмрдзрд╛рдИ|рдЕрднрд┐рдирдВрджрди|╨з╨╡╤Б╤В╨╕╤В╨░╨╝|╨б╨▓╨░╨║╨░ ╤З╨░╤Б╤В|hongera|ро╡ро╛ро┤рпНродрпНродрпБроХро│рпН|ро╡ро╛ро┤рпНродрпНродрпБроХрпНроХро│рпН|р░Ер░нр░┐р░ир░Вр░жр░ир░▓р▒Б|р┤Ер┤нр┤┐р┤ир┤ир╡Нр┤жр┤ир┤Щр╡Нр┤Щр╡╛|Ch├║c mс╗лng|╫Ю╫Ц╫Ь ╫Ш╫Х╫С|mazel tov|mazal tov)(^|$|[^A-Za-z┬к┬╡┬║├А-├Ц├Ш-├╢├╕-╦Б╦Ж-╦С╦а-╦д╦м╦о═░-═┤═╢═╖═║-═╜╬Ж╬И-╬К╬М╬О-╬б╬г-╧╡╧╖-╥Б╥К-╘з╘▒-╒Ц╒Щ╒б-╓З╫Р-╫к╫░-╫▓╪а-┘К┘о┘п┘▒-█У█Х█е█ж█о█п█║-█╝█┐▄Р▄Т-▄п▌Н-▐е▐▒▀К-▀к▀┤▀╡▀║раА-раХраЪрадраирбА-рбШрварвв-рвмрдД-рд╣рд╜реРреШ-ребре▒-ре╖ре╣-ре┐ржЕ-ржМржПржРржУ-ржиржк-рж░рж▓рж╢-рж╣рж╜рзОрзЬрзЭрзЯ-рзбрз░рз▒риЕ-риКриПриРриУ-риирик-ри░ри▓ри│ри╡ри╢ри╕ри╣рйЩ-рйЬрйЮрй▓-рй┤ркЕ-ркНркП-ркСркУ-ркиркк-рк░рк▓рк│рк╡-рк╣рк╜рлРрларлбрмЕ-рмМрмПрмРрмУ-рмирмк-рм░рм▓рм│рм╡-рм╣рм╜рнЬрнЭрнЯ-рнбрн▒роГроЕ-роКроО-роРроТ-роХроЩроЪроЬроЮроЯрогродрои-рокроо-ро╣рпРр░Е-р░Мр░О-р░Рр░Т-р░ир░к-р░│р░╡-р░╣р░╜р▒Шр▒Щр▒ар▒бр▓Е-р▓Мр▓О-р▓Рр▓Т-р▓ир▓к-р▓│р▓╡-р▓╣р▓╜р│Юр│ар│бр│▒р│▓р┤Е-р┤Мр┤О-р┤Рр┤Т-р┤║р┤╜р╡Ор╡ар╡бр╡║-р╡┐р╢Е-р╢Цр╢Ъ-р╢▒р╢│-р╢╗р╢╜р╖А-р╖Жр╕Б-р╕░р╕▓р╕│р╣А-р╣Жр║Бр║Вр║Др║Зр║Ир║Кр║Нр║Ф-р║Чр║Щ-р║Яр║б-р║гр║ер║зр║кр║лр║н-р║░р║▓р║│р║╜р╗А-р╗Др╗Жр╗Ь-р╗Яр╝Ар╜А-р╜Зр╜Й-р╜мр╛И-р╛МсАА-сАксА┐сБР-сБХсБЪ-сБЭсБбсБесБжсБо-сБ░сБ╡-сВБсВОсВа-сГЕсГЗсГНсГР-сГ║сГ╝-сЙИсЙК-сЙНсЙР-сЙЦсЙШсЙЪ-сЙЭсЙа-сКИсКК-сКНсКР-сК░сК▓-сК╡сК╕-сК╛сЛАсЛВ-сЛЕсЛИ-сЛЦсЛШ-сМРсМТ-сМХсМШ-сНЪсОА-сОПсОа-сП┤сРБ-сЩмсЩп-сЩ┐сЪБ-сЪЪсЪа-сЫксЬА-сЬМсЬО-сЬСсЬа-сЬ▒сЭА-сЭСсЭа-сЭмсЭо-сЭ░сЮА-сЮ│сЯЧсЯЬсаа-сб╖свА-свисвксв░-сг╡сдА-сдЬсеР-сенсе░-се┤сжА-сжлсзБ-сзЗсиА-сиЦсиа-сйФскзсмЕ-см│снЕ-снЛсоГ-соасоосопсо║-спес░А-с░гс▒Н-с▒Пс▒Ъ-с▒╜с│й-с│мс│о-с│▒с│╡с│╢с┤А-с╢┐с╕А-с╝Хс╝Ш-с╝Эс╝а-с╜Ес╜И-с╜Нс╜Р-с╜Чс╜Щс╜Ыс╜Эс╜Я-с╜╜с╛А-с╛┤с╛╢-с╛╝с╛╛с┐В-с┐Дс┐Ж-с┐Мс┐Р-с┐Ус┐Ц-с┐Ыс┐а-с┐мс┐▓-с┐┤с┐╢-с┐╝тБ▒тБ┐тВР-тВЬтДВтДЗтДК-тДУтДХтДЩ-тДЭтДдтДжтДитДк-тДнтДп-тД╣тД╝-тД┐тЕЕ-тЕЙтЕОтЖГтЖДт░А-т░от░░-т▒Ют▒а-т│дт│л-т│от│▓т││т┤А-т┤ет┤зт┤нт┤░-т╡зт╡пт╢А-т╢Цт╢а-т╢жт╢и-т╢от╢░-т╢╢т╢╕-т╢╛т╖А-т╖Жт╖И-т╖От╖Р-т╖Цт╖Ш-т╖Ют╕пуАЕуАЖуА▒-уА╡уА╗уА╝уББ-уВЦуВЭ-уВЯуВб-уГ║уГ╝-уГ┐уДЕ-уДнуД▒-уЖОуЖа-уЖ║уЗ░-уЗ┐уРА-ф╢╡ф╕А-щ┐МъАА-ъТМъУР-ъУ╜ъФА-ъШМъШР-ъШЯъШкъШлъЩА-ъЩоъЩ┐-ъЪЧъЪа-ъЫеъЬЧ-ъЬЯъЬв-ъЮИъЮЛ-ъЮОъЮР-ъЮУъЮа-ъЮкъЯ╕-ъаБъаГ-ъаЕъаЗ-ъаКъаМ-ъавъбА-ъб│ъвВ-ъв│ъг▓-ъг╖ъг╗ъдК-ъдеъд░-ъеЖъеа-ъе╝ъжД-ъж▓ъзПъиА-ъииъйА-ъйВъйД-ъйЛъйа-ъй╢ъй║ъкА-ъкпък▒ък╡ък╢ък╣-ък╜ълАълВълЫ-ълЭъла-ълкъл▓-ъл┤ъмБ-ъмЖъмЙ-ъмОъмС-ъмЦъма-ъмжъми-ъмоъпА-ъпвъ░А-эЮгэЮ░-эЯЖэЯЛ-эЯ╗ядА-яйняй░-ялЩямА-ямЖямУ-ямЧямЭямЯ-ямиямк-ям╢ям╕-ям╝ям╛янАянБянГянДянЖ-яо▒япУ-я┤╜я╡Р-я╢Пя╢Т-я╖Зя╖░-я╖╗я╣░-я╣┤я╣╢-я╗╝я╝б-я╝║я╜Б-я╜Ъя╜ж-я╛╛я┐В-я┐Зя┐К-я┐Пя┐Т-я┐Чя┐Ъ-я┐Ь])/i;function Fe(){const[e]=i.o();s.useEffect(()=>{if(!e.hasNodes([i.KeywordNode]))throw new Error("KeywordsPlugin: KeywordNode not registered on editor")},[e]);const t=s.useCallback(o=>i.$createKeywordNode(o.getTextContent()),[]),n=s.useCallback(o=>{const r=He.exec(o);if(r===null)return null;const m=r[2].length,c=r.index+r[1].length;return{end:c+m,start:c}},[]);return ge(n,i.KeywordNode,t),null}const oe="startTransition",X=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Ge=X?s.useLayoutEffect:s.useEffect;class We{constructor(t){this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(t){this.ref={current:t}}}const ae=e=>{const t=document.getElementById("typeahead-menu");if(!t)return;const n=t.getBoundingClientRect();n.top+n.height>window.innerHeight&&t.scrollIntoView({block:"center"}),n.top<0&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})};function se(e,t){const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return n.top>o.top&&n.top<o.bottom}function ze(e,t,n,o){const[r]=i.o();s.useEffect(()=>{if(t!=null&&e!=null){const m=r.getRootElement(),c=m!=null?function(y,u){let l=getComputedStyle(y);const E=l.position==="absolute",g=/(auto|scroll)/;if(l.position==="fixed")return document.body;for(let f=y;f=f.parentElement;)if(l=getComputedStyle(f),(!E||l.position!=="static")&&g.test(l.overflow+l.overflowY+l.overflowX))return f;return document.body}(m):document.body;let x=!1,h=se(t,c);const S=function(){x||(window.requestAnimationFrame(function(){n(),x=!1}),x=!0);const y=se(t,c);y!==h&&(h=y,o!=null&&o(y))},p=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",S,{capture:!0,passive:!0}),p.observe(t),()=>{p.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",S,!0)}}},[t,r,o,n,e])}const ie=d.createCommand("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function Ve({close:e,editor:t,anchorElementRef:n,resolution:o,options:r,menuRenderFn:m,onSelectOption:c,shouldSplitNodeWithQuery:x=!1,commandPriority:h=d.COMMAND_PRIORITY_LOW,preselectFirstItem:S=!0}){const[p,y]=s.useState(null),u=o.match&&o.match.matchingString;s.useEffect(()=>{S&&y(0)},[u,S]);const l=s.useCallback(g=>{t.update(()=>{const f=o.match!=null&&x?function(N){const a=d.$getSelection();if(!d.$isRangeSelection(a)||!a.isCollapsed())return null;const A=a.anchor;if(A.type!=="text")return null;const b=A.getNode();if(!b.isSimpleText())return null;const L=A.offset,T=b.getTextContent().slice(0,L),O=N.replaceableString.length,v=L-function(k,I,$){let R=$;for(let D=R;D<=I.length;D++)k.slice(-D)===I.substring(0,D)&&(R=D);return R}(T,N.matchingString,O);if(v<0)return null;let C;return v===0?[C]=b.splitText(L):[,C]=b.splitText(v,L),C}(o.match):null;c(g,f,e,o.match?o.match.matchingString:"")})},[t,x,o.match,c,e]),E=s.useCallback(g=>{const f=t.getRootElement();f!==null&&(f.setAttribute("aria-activedescendant","typeahead-item-"+g),y(g))},[t]);return s.useEffect(()=>()=>{const g=t.getRootElement();g!==null&&g.removeAttribute("aria-activedescendant")},[t]),Ge(()=>{r===null?y(null):p===null&&S&&E(0)},[r,p,E,S]),s.useEffect(()=>V.mergeRegister(t.registerCommand(ie,({option:g})=>!(!g.ref||g.ref.current==null)&&(ae(g.ref.current),!0),h)),[t,E,h]),s.useEffect(()=>V.mergeRegister(t.registerCommand(d.KEY_ARROW_DOWN_COMMAND,g=>{const f=g;if(r!==null&&r.length){const N=p===null?0:p!==r.length-1?p+1:0;E(N);const a=r[N];a.ref!=null&&a.ref.current&&t.dispatchCommand(ie,{index:N,option:a}),f.preventDefault(),f.stopImmediatePropagation()}return!0},h),t.registerCommand(d.KEY_ARROW_UP_COMMAND,g=>{const f=g;if(r!==null&&r.length){const N=p===null?r.length-1:p!==0?p-1:r.length-1;E(N);const a=r[N];a.ref!=null&&a.ref.current&&ae(a.ref.current),f.preventDefault(),f.stopImmediatePropagation()}return!0},h),t.registerCommand(d.KEY_ESCAPE_COMMAND,g=>{const f=g;return f.preventDefault(),f.stopImmediatePropagation(),e(),!0},h),t.registerCommand(d.KEY_TAB_COMMAND,g=>{const f=g;return r!==null&&p!==null&&r[p]!=null&&(f.preventDefault(),f.stopImmediatePropagation(),l(r[p]),!0)},h),t.registerCommand(d.KEY_ENTER_COMMAND,g=>r!==null&&p!==null&&r[p]!=null&&(g!==null&&(g.preventDefault(),g.stopImmediatePropagation()),l(r[p]),!0),h)),[l,e,t,r,p,E,h]),m(n,s.useMemo(()=>({options:r,selectOptionAndCleanUp:l,selectedIndex:p,setHighlightedIndex:y}),[l,p,r]),o.match?o.match.matchingString:"")}function le(e,t){t!=null&&(e.className=t),e.setAttribute("aria-label","Typeahead menu"),e.setAttribute("role","listbox"),e.style.display="block",e.style.position="absolute"}const Je=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`;d.createCommand("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function Ye(e,{minLength:t=1,maxLength:n=75,punctuation:o=Je,allowWhitespace:r=!1}){return s.useCallback(m=>{const c=new RegExp("(^|\\s|\\()(["+e+"]((?:"+("[^"+e+o+(r?"":"\\s")+"]")+"){0,"+n+"}))$").exec(m);if(c!==null){const x=c[1],h=c[3];if(h.length>=t)return{leadOffset:c.index+x.length,matchingString:h,replaceableString:c[2]}}return null},[r,e,o,n,t])}function qe({options:e,onQueryChange:t,onSelectOption:n,onOpen:o,onClose:r,menuRenderFn:m,triggerFn:c,anchorClassName:x,commandPriority:h=d.COMMAND_PRIORITY_LOW,parent:S,preselectFirstItem:p=!0,ignoreEntityBoundary:y=!1}){const[u]=i.o(),[l,E]=s.useState(null),g=function(a,A,b,L=X?document.body:void 0,T=!0){const[O]=i.o(),v=X?document.createElement("div"):null,C=s.useRef(v),k=s.useCallback(()=>{if(C.current===null||L===void 0)return;C.current.style.top=C.current.style.bottom;const $=O.getRootElement(),R=C.current,D=R.firstChild;if($!==null&&a!==null){const{left:F,top:B,width:K,height:_}=a.getRect(),P=C.current.offsetHeight;if(R.style.top=`${B+P+3+(T?window.pageYOffset:0)}px`,R.style.left=`${F+window.pageXOffset}px`,R.style.height=`${_}px`,R.style.width=`${K}px`,D!==null){D.style.top=`${B}`;const M=D.getBoundingClientRect(),j=M.height,w=M.width,H=$.getBoundingClientRect();F+w>H.right&&(R.style.left=`${H.right-w+window.pageXOffset}px`),(B+j>window.innerHeight||B+j>H.bottom)&&B-H.top>j+_&&(R.style.top=`${B-j-_+(T?window.pageYOffset:0)}px`)}R.isConnected||(le(R,b),L.append(R)),R.setAttribute("id","typeahead-menu"),$.setAttribute("aria-controls","typeahead-menu")}},[O,a,T,b,L]);s.useEffect(()=>{const $=O.getRootElement();return a!==null&&k(),()=>{$!==null&&$.removeAttribute("aria-controls");const R=C.current;R!==null&&R.isConnected&&(R.remove(),R.removeAttribute("id"))}},[O,k,a]);const I=s.useCallback($=>{a!==null&&($||A(null))},[a,A]);return ze(a,C.current,k,I),v!=null&&v===C.current&&(le(v,b),L!=null&&L.append(v)),C}(l,E,x,S),f=s.useCallback(()=>{E(null),r!=null&&l!==null&&r()},[r,l]),N=s.useCallback(a=>{E(a),o!=null&&l===null&&o(a)},[o,l]);return s.useEffect(()=>{const a=u.registerUpdateListener(()=>{u.getEditorState().read(()=>{if(!u.isEditable())return void f();const A=u._window||window,b=A.document.createRange(),L=d.$getSelection(),T=function(C){let k=null;return C.getEditorState().read(()=>{const I=d.$getSelection();d.$isRangeSelection(I)&&(k=function($){const R=$.anchor;if(R.type!=="text")return null;const D=R.getNode();if(!D.isSimpleText())return null;const F=R.offset;return D.getTextContent().slice(0,F)}(I))}),k}(u);if(!d.$isRangeSelection(L)||!L.isCollapsed()||T===null||b===null)return void f();const O=c(T,u);if(t(O?O.matchingString:null),O!==null&&(y||!function(C,k){return k===0&&C.getEditorState().read(()=>{const I=d.$getSelection();if(d.$isRangeSelection(I)){const $=I.anchor.getNode().getPreviousSibling();return d.$isTextNode($)&&$.isTextEntity()}return!1})}(u,O.leadOffset))&&function(k,I,$){const R=d.getDOMSelection($);if(R===null||!R.isCollapsed)return!1;const D=R.anchorNode,F=k,B=R.anchorOffset;if(D==null||B==null)return!1;try{I.setStart(D,F),I.setEnd(D,B)}catch{return!1}return!0}(O.leadOffset,b,A)!==null)return v=()=>N({getRect:()=>b.getBoundingClientRect(),match:O}),void(oe in s?s[oe](v):v());var v;f()})});return()=>{a()}},[u,c,t,l,f,N,y]),s.useEffect(()=>u.registerEditableListener(a=>{a||f()}),[u,f]),l===null||u===null||g.current===null?null:i.jsxRuntimeExports.jsx(Ve,{close:f,resolution:l,editor:u,anchorElementRef:g,options:e,menuRenderFn:m,shouldSplitNodeWithQuery:!0,onSelectOption:n,commandPriority:h,preselectFirstItem:p})}const Ue=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`,Qe={PUNCTUATION:Ue},he=Qe.PUNCTUATION,te=["@"].join(""),pe="[^"+te+he+"\\s]",Ze="(?:\\.[ |$]| |["+he+"]|)",Xe=75,et=new RegExp("(^|\\s|\\()(["+te+"]((?:"+pe+Ze+"){0,"+Xe+"}))$"),tt=50,nt=new RegExp("(^|\\s|\\()(["+te+"]((?:"+pe+"){0,"+tt+"}))$"),rt=5,Q=new Map,ot=["Aayla Secura","Adi Gallia","Admiral Dodd Rancit","Admiral Firmus Piett","Admiral Gial Ackbar","Admiral Ozzel","Admiral Raddus","Admiral Terrinald Screed","Admiral Trench","Admiral U.O. Statura","Agen Kolar","Agent Kallus","Aiolin and Morit Astarte","Aks Moe","Almec","Alton Kastle","Amee","AP-5","Armitage Hux","Artoo","Arvel Crynyd","Asajj Ventress","Aurra Sing","AZI-3","Bala-Tik","Barada","Bargwill Tomder","Baron Papanoida","Barriss Offee","Baze Malbus","Bazine Netal","BB-8","BB-9E","Ben Quadinaros","Berch Teller","Beru Lars","Bib Fortuna","Biggs Darklighter","Black Krrsantan","Bo-Katan Kryze","Boba Fett","Bobbajo","Bodhi Rook","Borvo the Hutt","Boss Nass","Bossk","Breha Antilles-Organa","Bren Derlin","Brendol Hux","BT-1","C-3PO","C1-10P","Cad Bane","Caluan Ematt","Captain Gregor","Captain Phasma","Captain Quarsh Panaka","Captain Rex","Carlist Rieekan","Casca Panzoro","Cassian Andor","Cassio Tagge","Cham Syndulla","Che Amanwe Papanoida","Chewbacca","Chi Eekway Papanoida","Chief Chirpa","Chirrut ├Оmwe","Ciena Ree","Cin Drallig","Clegg Holdfast","Cliegg Lars","Coleman Kcaj","Coleman Trebor","Colonel Kaplan","Commander Bly","Commander Cody (CC-2224)","Commander Fil (CC-3714)","Commander Fox","Commander Gree","Commander Jet","Commander Wolffe","Conan Antonio Motti","Conder Kyl","Constable Zuvio","Cord├й","Cpatain Typho","Crix Madine","Cut Lawquane","Dak Ralter","Dapp","Darth Bane","Darth Maul","Darth Tyranus","Daultay Dofine","Del Meeko","Delian Mors","Dengar","Depa Billaba","Derek Klivian","Dexter Jettster","Dine├й Ellberger","DJ","Doctor Aphra","Doctor Evazan","Dogma","Dorm├й","Dr. Cylo","Droidbait","Droopy McCool","Dryden Vos","Dud Bolt","Ebe E. Endocott","Echuu Shen-Jon","Eeth Koth","Eighth Brother","Eirta├й","Eli Vanto","Ell├й","Ello Asty","Embo","Eneb Ray","Enfys Nest","EV-9D9","Evaan Verlaine","Even Piell","Ezra Bridger","Faro Argyus","Feral","Fifth Brother","Finis Valorum","Finn","Fives","FN-1824","FN-2003","Fodesinbeed Annodue","Fulcrum","FX-7","GA-97","Galen Erso","Gallius Rax",'Garazeb "Zeb" Orrelios',"Gardulla the Hutt","Garrick Versio","Garven Dreis","Gavyn Sykes","Gideon Hask","Gizor Dellso","Gonk droid","Grand Inquisitor","Greeata Jendowanian","Greedo","Greer Sonnel","Grievous","Grummgar","Gungi","Hammerhead","Han Solo","Harter Kalonia","Has Obbit","Hera Syndulla","Hevy","Hondo Ohnaka","Huyang","Iden Versio","IG-88","Ima-Gun Di","Inquisitors","Inspector Thanoth","Jabba","Jacen Syndulla","Jan Dodonna","Jango Fett","Janus Greejatus","Jar Jar Binks","Jas Emari","Jaxxon","Jek Tono Porkins","Jeremoch Colton","Jira","Jobal Naberrie","Jocasta Nu","Joclad Danva","Joh Yowza","Jom Barell","Joph Seastriker","Jova Tarkin","Jubnuk","Jyn Erso","K-2SO","Kanan Jarrus","Karbin","Karina the Great","Kes Dameron","Ketsu Onyo","Ki-Adi-Mundi","King Katuunko","Kit Fisto","Kitster Banai","Klaatu","Klik-Klak","Korr Sella","Kylo Ren","L3-37","Lama Su","Lando Calrissian","Lanever Villecham","Leia Organa","Letta Turmond","Lieutenant Kaydel Ko Connix","Lieutenant Thire","Lobot","Logray","Lok Durd","Longo Two-Guns","Lor San Tekka","Lorth Needa","Lott Dod","Luke Skywalker","Lumat","Luminara Unduli","Lux Bonteri","Lyn Me","Lyra Erso","Mace Windu","Malakili","Mama the Hutt","Mars Guo","Mas Amedda","Mawhonic","Max Rebo","Maximilian Veers","Maz Kanata","ME-8D9","Meena Tills","Mercurial Swift","Mina Bonteri","Miraj Scintel","Mister Bones","Mod Terrik","Moden Canady","Mon Mothma","Moradmin Bast","Moralo Eval","Morley","Mother Talzin","Nahdar Vebb","Nahdonnis Praji","Nien Nunb","Niima the Hutt","Nines","Norra Wexley","Nute Gunray","Nuvo Vindi","Obi-Wan Kenobi","Odd Ball","Ody Mandrell","Omi","Onaconda Farr","Oola","OOM-9","Oppo Rancisis","Orn Free Taa","Oro Dassyne","Orrimarko","Osi Sobeck","Owen Lars","Pablo-Jill","Padm├й Amidala","Pagetti Rook","Paige Tico","Paploo","Petty Officer Thanisson","Pharl McQuarrie","Plo Koon","Po Nudo","Poe Dameron","Poggle the Lesser","Pong Krell","Pooja Naberrie","PZ-4CO","Quarrie","Quay Tolsite","Queen Apailana","Queen Jamillia","Queen Neeyutnee","Qui-Gon Jinn","Quiggold","Quinlan Vos","R2-D2","R2-KT","R3-S6","R4-P17","R5-D4","RA-7","Rab├й","Rako Hardeen","Ransolm Casterfo","Rappertunie","Ratts Tyerell","Raymus Antilles","Ree-Yees","Reeve Panzoro","Rey","Ric Oli├й","Riff Tamson","Riley","Rinnriyin Di","Rio Durant","Rogue Squadron","Romba","Roos Tarpals","Rose Tico","Rotta the Hutt","Rukh","Rune Haako","Rush Clovis","Ruwee Naberrie","Ryoo Naberrie","Sab├й","Sabine Wren","Sach├й","Saelt-Marae","Saesee Tiin","Salacious B. Crumb","San Hill","Sana Starros","Sarco Plank","Sarkli","Satine Kryze","Savage Opress","Sebulba","Senator Organa","Sergeant Kreel","Seventh Sister","Shaak Ti","Shara Bey","Shmi Skywalker","Shu Mai","Sidon Ithano","Sifo-Dyas","Sim Aloo","Siniir Rath Velus","Sio Bibble","Sixth Brother","Slowen Lo","Sly Moore","Snaggletooth","Snap Wexley","Snoke","Sola Naberrie","Sora Bulq","Strono Tuggs","Sy Snootles","Tallissan Lintra","Tarfful","Tasu Leech","Taun We","TC-14","Tee Watt Kaa","Teebo","Teedo","Teemto Pagalies","Temiri Blagg","Tessek","Tey How","Thane Kyrell","The Bendu","The Smuggler","Thrawn","Tiaan Jerjerrod","Tion Medon","Tobias Beckett","Tulon Voidgazer","Tup","U9-C4","Unkar Plutt","Val Beckett","Vanden Willard","Vice Admiral Amilyn Holdo","Vober Dand","WAC-47","Wag Too","Wald","Walrus Man","Warok","Wat Tambor","Watto","Wedge Antilles","Wes Janson","Wicket W. Warrick","Wilhuff Tarkin","Wollivan","Wuher","Wullf Yularen","Xamuel Lennox","Yaddle","Yarael Poof","Yoda","Zam Wesell","Zev Senesca","Ziro the Hutt","Zuckuss"],at={search(e,t){setTimeout(()=>{const n=ot.filter(o=>o.toLowerCase().includes(e.toLowerCase()));t(n)},500)}};function st(e){const[t,n]=s.useState([]);return s.useEffect(()=>{const o=Q.get(e);if(e==null){n([]);return}if(o!==null){if(o!==void 0){n(o);return}Q.set(e,null),at.search(e,r=>{Q.set(e,r),n(r)})}},[e]),t}function it(e,t){let n=et.exec(e);if(n===null&&(n=nt.exec(e)),n!==null){const o=n[1],r=n[3];if(r.length>=t)return{leadOffset:n.index+o.length,matchingString:r,replaceableString:n[2]}}return null}function lt(e){return it(e,1)}class ut extends We{constructor(t,n){super(t),this.name=t,this.picture=n}}function ct({index:e,isSelected:t,onClick:n,onMouseEnter:o,option:r}){let m="item";return t&&(m+=" selected"),i.jsxRuntimeExports.jsxs("li",{tabIndex:-1,className:m,ref:r.setRefElement,role:"option","aria-selected":t,id:"typeahead-item-"+e,onMouseEnter:o,onClick:n,children:[r.picture,i.jsxRuntimeExports.jsx("span",{className:"text",children:r.name})]},r.key)}function dt(){const[e]=i.o(),[t,n]=s.useState(null),o=st(t),r=Ye("/",{minLength:0}),m=s.useMemo(()=>o.map(h=>new ut(h,i.jsxRuntimeExports.jsx("i",{className:"icon user"}))).slice(0,rt),[o]),c=s.useCallback((h,S,p)=>{e.update(()=>{const y=i.$createMentionNode(h.name);S&&S.replace(y),y.select(),p()})},[e]),x=s.useCallback(h=>r(h,e)!==null?null:lt(h),[r,e]);return i.jsxRuntimeExports.jsx(qe,{onQueryChange:n,onSelectOption:c,triggerFn:x,options:m,menuRenderFn:(h,{selectedIndex:S,selectOptionAndCleanUp:p,setHighlightedIndex:y})=>h.current&&o.length?$e.createPortal(i.jsxRuntimeExports.jsx("div",{className:"typeahead-popover mentions-menu",children:i.jsxRuntimeExports.jsx("ul",{children:m.map((u,l)=>i.jsxRuntimeExports.jsx(ct,{index:l,isSelected:S===l,onClick:()=>{y(l),p(u)},onMouseEnter:()=>{y(l)},option:u},u.key))})}),h.current):null})}const xe=Object.freeze({"	":"\\t","\n":"\\n"}),ue=new RegExp(Object.keys(xe).join("|"),"g"),G=Object.freeze({ancestorHasNextSibling:"|",ancestorIsLastChild:" ",hasNextSibling:"тФЬ",isLastChild:"тФФ",selectedChar:"^",selectedLine:">"}),mt=[e=>e.hasFormat("bold")&&"Bold",e=>e.hasFormat("code")&&"Code",e=>e.hasFormat("italic")&&"Italic",e=>e.hasFormat("strikethrough")&&"Strikethrough",e=>e.hasFormat("subscript")&&"Subscript",e=>e.hasFormat("superscript")&&"Superscript",e=>e.hasFormat("underline")&&"Underline",e=>e.hasFormat("highlight")&&"Highlight"],ft=[e=>e.hasTextFormat("bold")&&"Bold",e=>e.hasTextFormat("code")&&"Code",e=>e.hasTextFormat("italic")&&"Italic",e=>e.hasTextFormat("strikethrough")&&"Strikethrough",e=>e.hasTextFormat("subscript")&&"Subscript",e=>e.hasTextFormat("superscript")&&"Superscript",e=>e.hasTextFormat("underline")&&"Underline",e=>e.hasTextFormat("highlight")&&"Highlight"],gt=[e=>e.isDirectionless()&&"Directionless",e=>e.isUnmergeable()&&"Unmergeable"],ht=[e=>e.isToken()&&"Token",e=>e.isSegmented()&&"Segmented"];function pt(e,t,n,o,r=!1){const m=e.getEditorState(),c=e._config,x=e._compositionKey,h=e._editable;if(n){let u="";return m.read(()=>{u=function(l){const E=document.createElement("div");return E.innerHTML=l.trim(),Ee(E,0).innerHTML}(je.$generateHtmlFromNodes(e))}),u}let S=` root
`;const p=m.read(()=>{const u=d.$getSelection();return Ce(d.$getRoot(),(l,E)=>{const g=`(${l.getKey()})`,f=l.getType()||"",N=l.isSelected();S+=`${N?G.selectedLine:" "} ${E.join(" ")} ${g} ${f} ${function(a,A,b=!1){const L=A?A(a,b):void 0;if(L!==void 0&&L.length>0)return L;if(d.$isTextNode(a)){const T=a.getTextContent(),O=T.length===0?"(empty)":`"${ce(T,b)}"`,v=function(C){return[de(C),xt(C),Ct(C),me(C)].filter(Boolean).join(", ")}(a);return[O,v.length!==0?`{ ${v} }`:null].filter(Boolean).join(" ").trim()}if(ke.$isLinkNode(a)){const T=a.getURL(),O=T.length===0?"(empty)":`"${ce(T,b)}"`,v=function(C){return[Et(C),St(C),yt(C),me(C)].filter(Boolean).join(", ")}(a);return[O,v.length!==0?`{ ${v} }`:null].filter(Boolean).join(" ").trim()}if(Me.$isMarkNode(a))return`ids: [ ${a.getIDs().join(", ")} ]`;if(d.$isParagraphNode(a)){const T=function(v){let C=ft.map(k=>k(v)).filter(Boolean).join(", ").toLocaleLowerCase();return C!==""&&(C="format: "+C),C}(a);let O=T!==""?`{ ${T} }`:"";return O+=a.__style?`(${a.__style})`:"",O}return""}(l,o,r)}
`,S+=function({indent:a,isSelected:A,node:b,nodeKeyDisplay:L,selection:T,typeDisplay:O}){if(!d.$isTextNode(b)||!d.$isRangeSelection(T)||!A||d.$isElementNode(b))return"";const v=T.anchor,C=T.focus;if(b.getTextContent()===""||v.getNode()===T.focus.getNode()&&v.offset===C.offset)return"";const[k,I]=function(_,P){const M=P.getStartEndPoints();if(d.$isNodeSelection(P)||M===null)return[-1,-1];const[j,w]=M,H=_.getTextContent(),q=H.length;let W=-1,J=-1;if(j.type==="text"&&w.type==="text"){const z=j.getNode(),Y=w.getNode();z===Y&&_===z&&j.offset!==w.offset?[W,J]=j.offset<w.offset?[j.offset,w.offset]:[w.offset,j.offset]:[W,J]=_===z?z.isBefore(Y)?[j.offset,q]:[0,j.offset]:_===Y?Y.isBefore(z)?[w.offset,q]:[0,w.offset]:[0,q]}const ne=(H.slice(0,W).match(ue)||[]).length,ye=(H.slice(W,J).match(ue)||[]).length;return[W+ne,J+ne+ye]}(b,T);if(k===I)return"";const $=a[a.length-1]===G.hasNextSibling?G.ancestorHasNextSibling:G.ancestorIsLastChild,R=[...a.slice(0,a.length-1),$],D=Array(k+1).fill(" "),F=Array(I-k).fill(G.selectedChar),B=O.length+2,K=Array(L.length+B).fill(" ");return[G.selectedLine,R.join(" "),[...K,...D,...F].join("")].join(" ")+`
`}({indent:E,isSelected:N,node:l,nodeKeyDisplay:g,selection:u,typeDisplay:f})}),u===null?": null":d.$isRangeSelection(u)?function(l){let E="";const g=de(l);E+=`: range ${g!==""?`{ ${g} }`:""} ${l.style!==""?`{ style: ${l.style} } `:""}`;const f=l.anchor,N=l.focus,a=f.offset,A=N.offset;return E+=`
  тФЬ anchor { key: ${f.key}, offset: ${a===null?"null":a}, type: ${f.type} }`,E+=`
  тФФ focus { key: ${N.key}, offset: ${A===null?"null":A}, type: ${N.type} }`,E}(u):Oe.$isTableSelection(u)?function(l){return`: table
  тФФ { table: ${l.tableKey}, anchorCell: ${l.anchor.key}, focusCell: ${l.focus.key} }`}(u):function(l){return d.$isNodeSelection(l)?`: node
  тФФ [${Array.from(l._nodes).join(", ")}]`:""}(u)});if(S+=`
 selection`+p,S+=`

 commands:`,t.length)for(const{index:u,type:l,payload:E}of t)S+=`
  тФФ ${u}. { type: ${l}, payload: ${E instanceof Event?E.constructor.name:E} }`;else S+=`
  тФФ None dispatched.`;const{version:y}=e.constructor;return S+=`

 editor${y?` (v${y})`:""}:`,S+=`
  тФФ namespace ${c.namespace}`,x!==null&&(S+=`
  тФФ compositionKey ${x}`),S+=`
  тФФ editable ${String(h)}`,S}function Ce(e,t,n=[]){const o=e.getChildren(),r=o.length;o.forEach((m,c)=>{t(m,n.concat(c===r-1?G.isLastChild:G.hasNextSibling)),d.$isElementNode(m)&&Ce(m,t,n.concat(c===r-1?G.ancestorIsLastChild:G.ancestorHasNextSibling))})}function ce(e,t=!1){const n=Object.entries(xe).reduce((o,[r,m])=>o.replace(new RegExp(r,"g"),String(m)),e);return t?n.replace(/[^\s]/g,"*"):n}function xt(e){let t=gt.map(n=>n(e)).filter(Boolean).join(", ").toLocaleLowerCase();return t!==""&&(t="detail: "+t),t}function Ct(e){let t=ht.map(n=>n(e)).filter(Boolean).join(", ").toLocaleLowerCase();return t!==""&&(t="mode: "+t),t}function de(e){let t=mt.map(n=>n(e)).filter(Boolean).join(", ").toLocaleLowerCase();return t!==""&&(t="format: "+t),t}function Et(e){let t=e.getTarget();return t!=null&&(t="target: "+t),t}function St(e){let t=e.getRel();return t!=null&&(t="rel: "+t),t}function yt(e){let t=e.getTitle();return t!=null&&(t="title: "+t),t}function me(e){if(!e.__state)return!1;const t=[];for(const[o,r]of e.__state.knownState.entries()){if(o.isEqual(r,o.defaultValue))continue;const m=JSON.stringify(o.unparse(r));t.push(`[${o.key}: ${m}]`)}let n=t.join(",");return n!==""&&(n="state: "+n),n}function Ee(e,t){const n=new Array(1+t++).join("  "),o=new Array(t-1).join("  ");let r;for(let m=0;m<e.children.length;m++)r=document.createTextNode(`
`+n),e.insertBefore(r,e.children[m]),Ee(e.children[m],t),e.lastElementChild===e.children[m]&&(r=document.createTextNode(`
`+o),e.appendChild(r));return e}const Rt=s.forwardRef(function({treeTypeButtonClassName:e,timeTravelButtonClassName:t,timeTravelPanelSliderClassName:n,timeTravelPanelButtonClassName:o,viewClassName:r,timeTravelPanelClassName:m,editorState:c,setEditorState:x,setEditorReadOnly:h,generateContent:S,commandsLog:p=[]},y){const[u,l]=s.useState([]),[E,g]=s.useState(""),[f,N]=s.useState(!1),[a,A]=s.useState(!1),b=s.useRef(0),L=s.useRef(null),[T,O]=s.useState(!1),[v,C]=s.useState(!1),[k,I]=s.useState(!1),$=s.useRef(),R=s.useRef([]),D=s.useRef(0),F=s.useCallback(K=>{const _=++D.current;S(K).then(P=>{_===D.current&&g(P)}).catch(P=>{_===D.current&&g(`Error rendering tree: ${P.message}

Stack:
${P.stack}`)})},[S]);s.useEffect(()=>{if(!(!k&&c._nodeMap.size>1e3&&(C(!0),!k))&&($.current!==c||R.current!==p)){const K=$.current!==c;$.current=c,R.current=p,F(a),!f&&K&&l(_=>[..._,[Date.now(),c]])}},[c,F,a,k,f,p]);const B=u.length;return s.useEffect(()=>{if(T){let K;const _=()=>{const P=b.current;if(P===B-1)return void O(!1);const M=u[P][0],j=u[P+1][0];K=setTimeout(()=>{b.current++;const w=b.current,H=L.current;H!==null&&(H.value=String(w)),x(u[w][1]),_()},j-M)};return _(),()=>{clearTimeout(K)}}},[u,T,B,x]),i.jsxRuntimeExports.jsxs("div",{className:r,children:[!k&&v?i.jsxRuntimeExports.jsxs("div",{style:{padding:20},children:[i.jsxRuntimeExports.jsx("span",{style:{marginRight:20},children:"Detected large EditorState, this can impact debugging performance."}),i.jsxRuntimeExports.jsx("button",{onClick:()=>{I(!0)},style:{background:"transparent",border:"1px solid white",color:"white",cursor:"pointer",padding:5},children:"Show full tree"})]}):null,k?null:i.jsxRuntimeExports.jsx("button",{onClick:()=>(F(!a),void A(!a)),className:e,type:"button",children:a?"Tree":"Export DOM"}),!f&&(k||!v)&&B>2&&i.jsxRuntimeExports.jsx("button",{onClick:()=>{h(!0),b.current=B-1,N(!0)},className:t,type:"button",children:"Time Travel"}),(k||!v)&&i.jsxRuntimeExports.jsx("pre",{ref:y,children:E}),f&&(k||!v)&&i.jsxRuntimeExports.jsxs("div",{className:m,children:[i.jsxRuntimeExports.jsx("button",{className:o,onClick:()=>{b.current===B-1&&(b.current=1),O(!T)},type:"button",children:T?"Pause":"Play"}),i.jsxRuntimeExports.jsx("input",{className:n,ref:L,onChange:K=>{const _=Number(K.target.value),P=u[_];P&&(b.current=_,x(P[1]))},type:"range",min:"1",max:B-1}),i.jsxRuntimeExports.jsx("button",{className:o,onClick:()=>{h(!1);const K=u.length-1,_=u[K];x(_[1]);const P=L.current;P!==null&&(P.value=String(K)),N(!1),O(!1)},type:"button",children:"Exit"})]})]})});function bt(e,t){const n=new Set;let o=0;for(const[r]of e._commands)n.add(e.registerCommand(r,m=>(t(c=>{o+=1;const x=[...c];return x.push({index:o,payload:m,type:r.type?r.type:"UNKNOWN"}),x.length>10&&x.shift(),x}),!1),d.COMMAND_PRIORITY_CRITICAL));return()=>n.forEach(r=>r())}function Nt(e){const[t,n]=s.useState([]);return s.useEffect(()=>bt(e,n),[e]),s.useMemo(()=>t,[t])}function Tt({treeTypeButtonClassName:e,timeTravelButtonClassName:t,timeTravelPanelSliderClassName:n,timeTravelPanelButtonClassName:o,timeTravelPanelClassName:r,viewClassName:m,editor:c,customPrintNode:x}){const h=Ae.createRef(),[S,p]=s.useState(c.getEditorState()),y=Nt(c);return s.useEffect(()=>V.mergeRegister(c.registerUpdateListener(({editorState:u})=>{p(u)}),c.registerEditableListener(()=>{p(c.getEditorState())})),[c]),s.useEffect(()=>{const u=h.current;if(u!==null)return u.__lexicalEditor=c,()=>{u.__lexicalEditor=null}},[c,h]),i.jsxRuntimeExports.jsx(Rt,{treeTypeButtonClassName:e,timeTravelButtonClassName:t,timeTravelPanelSliderClassName:n,timeTravelPanelButtonClassName:o,viewClassName:m,timeTravelPanelClassName:r,setEditorReadOnly:u=>{const l=c.getRootElement();l!=null&&(l.contentEditable=u?"false":"true")},editorState:S,setEditorState:u=>c.setEditorState(u),generateContent:async function(u){return pt(c,y,u,x)},ref:h,commandsLog:y})}function vt(){const[e]=i.o();return i.jsxRuntimeExports.jsx(Tt,{viewClassName:"tree-view-output",treeTypeButtonClassName:"debug-treetype-button",timeTravelPanelClassName:"debug-timetravel-panel",timeTravelButtonClassName:"debug-timetravel-button",timeTravelPanelSliderClassName:"debug-timetravel-panel-slider",timeTravelPanelButtonClassName:"debug-timetravel-panel-button",editor:e})}const Z=new Map,ee=d.createCommand("RIGHT_CLICK_IMAGE_COMMAND");function jt(e){let t=Z.get(e);if(typeof t=="boolean")return t;throw t||(t=new Promise(n=>{const o=new Image;o.src=e,o.onload=()=>n(!1),o.onerror=()=>n(!0)}).then(n=>(Z.set(e,n),n)),Z.set(e,t),t)}function kt(e){return e.toLowerCase().endsWith(".svg")}function Mt({altText:e,className:t,imageRef:n,src:o,width:r,height:m,maxWidth:c,onError:x}){const[h,S]=s.useState(null),p=kt(o);s.useEffect(()=>{if(n.current&&p){const{naturalWidth:E,naturalHeight:g}=n.current;S({height:g,width:E})}},[n,p]);const y=jt(o);if(s.useEffect(()=>{y&&x()},[y,x]),y)return i.jsxRuntimeExports.jsx(Se,{});const l=(()=>{if(!p)return{height:m,maxWidth:c,width:r};const E=(h==null?void 0:h.width)||200,g=(h==null?void 0:h.height)||200;let f=E,N=g;if(f>c){const A=c/f;f=c,N=Math.round(N*A)}const a=500;if(N>a){const A=a/N;N=a,f=Math.round(f*A)}return{height:N,maxWidth:c,width:f}})();return i.jsxRuntimeExports.jsx("img",{className:t||void 0,src:o,alt:e,ref:n,style:l,onError:x,draggable:"false",onLoad:E=>{if(p){const g=E.currentTarget;S({height:g.naturalHeight,width:g.naturalWidth})}}})}function Se(){return i.jsxRuntimeExports.jsx("img",{src:_e,style:{height:200,opacity:.2,width:200},draggable:"false",alt:"Broken image"})}function Ot({src:e,altText:t,nodeKey:n,width:o,height:r,maxWidth:m,resizable:c,showCaption:x,caption:h,captionsEnabled:S}){const p=s.useRef(null),y=s.useRef(null),[u,l,E]=i.u(n),[g,f]=s.useState(!1),{isCollabActive:N}=be.l(),[a]=i.o(),[A,b]=s.useState(null),L=s.useRef(null),[T,O]=s.useState(!1),v=i.a(),C=s.useCallback(M=>{const j=d.$getSelection(),w=y.current;if(u&&d.$isNodeSelection(j)&&j.getNodes().length===1){if(x)return d.$setSelection(null),M.preventDefault(),h.focus(),!0;if(w!==null&&w!==document.activeElement)return M.preventDefault(),w.focus(),!0}return!1},[h,u,x]),k=s.useCallback(M=>L.current===h||y.current===M.target?(d.$setSelection(null),a.update(()=>{l(!0);const j=a.getRootElement();j!==null&&j.focus()}),!0):!1,[h,a,l]),I=s.useCallback(M=>{const j=M;return g?!0:j.target===p.current?(j.shiftKey?l(!u):(E(),l(!0)),!0):!1},[g,u,l,E]),$=s.useCallback(M=>{a.getEditorState().read(()=>{const j=d.$getSelection();M.target.tagName==="IMG"&&d.$isRangeSelection(j)&&j.getNodes().length===1&&a.dispatchCommand(ee,M)})},[a]);s.useEffect(()=>{const M=a.getRootElement(),j=V.mergeRegister(a.registerUpdateListener(({editorState:w})=>{const H=w.read(()=>d.$getSelection());d.$isNodeSelection(H)?b(H):b(null)}),a.registerCommand(d.SELECTION_CHANGE_COMMAND,(w,H)=>(L.current=H,!1),d.COMMAND_PRIORITY_LOW),a.registerCommand(d.CLICK_COMMAND,I,d.COMMAND_PRIORITY_LOW),a.registerCommand(ee,I,d.COMMAND_PRIORITY_LOW),a.registerCommand(d.DRAGSTART_COMMAND,w=>w.target===p.current?(w.preventDefault(),!0):!1,d.COMMAND_PRIORITY_LOW),a.registerCommand(d.KEY_ENTER_COMMAND,C,d.COMMAND_PRIORITY_LOW),a.registerCommand(d.KEY_ESCAPE_COMMAND,k,d.COMMAND_PRIORITY_LOW));return M==null||M.addEventListener("contextmenu",$),()=>{j(),M==null||M.removeEventListener("contextmenu",$)}},[E,a,g,u,n,C,k,I,$,l]);const R=()=>{a.update(()=>{const M=d.$getNodeByKey(n);i.$isImageNode(M)&&M.setShowCaption(!0)})},D=(M,j)=>{setTimeout(()=>{f(!1)},200),a.update(()=>{const w=d.$getNodeByKey(n);i.$isImageNode(w)&&w.setWidthAndHeight(M,j)})},F=()=>{f(!0)},{historyState:B}=i.useSharedHistoryContext(),{settings:{showNestedEditorTreeView:K}}=i.useSettings(),_=u&&d.$isNodeSelection(A)&&!g,P=(u||g)&&v;return i.jsxRuntimeExports.jsx(s.Suspense,{fallback:null,children:i.jsxRuntimeExports.jsxs(i.jsxRuntimeExports.Fragment,{children:[i.jsxRuntimeExports.jsx("div",{draggable:_,children:T?i.jsxRuntimeExports.jsx(Se,{}):i.jsxRuntimeExports.jsx(Mt,{className:P?`focused ${d.$isNodeSelection(A)?"draggable":""}`:null,src:e,altText:t,imageRef:p,width:o,height:r,maxWidth:m,onError:()=>O(!0)})}),x&&i.jsxRuntimeExports.jsx("div",{className:"image-caption-container",children:i.jsxRuntimeExports.jsxs(Te.h,{initialEditor:h,children:[i.jsxRuntimeExports.jsx(Re.o,{}),i.jsxRuntimeExports.jsx(dt,{}),i.jsxRuntimeExports.jsx(i.LinkPlugin,{}),i.jsxRuntimeExports.jsx(Ke,{}),i.jsxRuntimeExports.jsx(De,{}),i.jsxRuntimeExports.jsx(Fe,{}),N?i.jsxRuntimeExports.jsx(Ne._,{id:h.getKey(),providerFactory:i.createWebsocketProvider,shouldBootstrap:!0}):i.jsxRuntimeExports.jsx(i.a$1,{externalHistoryState:B}),i.jsxRuntimeExports.jsx(i.h,{contentEditable:i.jsxRuntimeExports.jsx(i.LexicalContentEditable,{placeholder:"Enter a caption...",placeholderClassName:"ImageNode__placeholder",className:"ImageNode__contentEditable"}),ErrorBoundary:i.a$2}),K===!0?i.jsxRuntimeExports.jsx(vt,{}):null]})}),c&&d.$isNodeSelection(A)&&P&&i.jsxRuntimeExports.jsx(we.ImageResizer,{showCaption:x,setShowCaption:R,editor:a,buttonRef:y,imageRef:p,maxWidth:m,onResizeStart:F,onResizeEnd:D,captionsEnabled:!T&&S})]})})}exports.RIGHT_CLICK_IMAGE_COMMAND=ee;exports.default=Ot;
